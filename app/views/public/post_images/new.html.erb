<div class="container" style="padding-top: 100px;">
  <div class="row">
    <div class="mx-auto">
      <h1 class="mt-4">新規投稿</h1>
      <%= render "layouts/errors", obj: @post_image %>
    </div>
  </div>
  <div class="row">
    <div class="mt-4 col-sm-12 col-md-8 col-lg-5 px-5 px-sm-0 mx-auto">
      <%= form_with model: @post_image do |f| %>
        <div class="mt-4 form-group row">
          <%= f.label :title, "局面", class: "col-md-2" %>
          <%= f.text_field :title, class:"form-control", placeholder: "例：東１局 １巡目 東家", class: "col-md-5" %>
        </div>
        <div class="form-group row">
          <%= f.label :image, "画像", class: "col-md-2" %>
          <%= f.file_field :image, accept: "image/*" %>
        </div>
        <img id="preview" style="width:80%;">
        <div class="form-group row">
          <%= f.label :body, "コメント", class: "col-md-3" %>
          <%= f.text_area :body, class:"form-control", size: "80x10" %>
        </div>
        <%= f.submit "投稿する", class: "mb-3 btn btn-info btn-block" %>
      <% end %>
    </div>
  </div>
</div>
<!--プレビュー表示-->
<script>
  $('#post_image_image').on('change', function (e) {
    var reader = new FileReader();
    reader.onload = function (e) {
        $("#preview").attr('src', e.target.result);
    }
    reader.readAsDataURL(e.target.files[0]);
});
</script>